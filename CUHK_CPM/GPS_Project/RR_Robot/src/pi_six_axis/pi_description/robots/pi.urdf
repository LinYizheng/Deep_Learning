<?xml version="1.0" ?>
<!-- =================================================================================== -->
<!-- |    This document was autogenerated by xacro from pi.urdf.xacro                  | -->
<!-- |    EDITING THIS FILE BY HAND IS NOT RECOMMENDED                                 | -->
<!-- =================================================================================== -->
<robot name="pi" xmlns:controller="http://playerstage.sourceforge.net/gazebo/xmlschema/#controller" xmlns:interface="http://playerstage.sourceforge.net/gazebo/xmlschema/#interface" xmlns:joint="http://playerstage.sourceforge.net/gazebo/xmlschema/#slider" xmlns:sensor="http://playerstage.sourceforge.net/gazebo/xmlschema/#sensor" xmlns:xacro="http://ros.org/wiki/xacro">
  <!-- pi base -->
  <!--step1: define the variable parameters  -->
  <!-- Import all Gazebo-customization elements, including Gazebo colors -->
  <!-- define the gazebo color -->
  <material name="black">
    <color rgba="0.0 0.0 0.0 1.0"/>
  </material>
  <material name="blue">
    <color rgba="0.0 0.0 0.8 1.0"/>
  </material>
  <material name="green">
    <color rgba="0.0 0.8 0.0 1.0"/>
  </material>
  <material name="grey">
    <color rgba="0.2 0.2 0.2 1.0"/>
  </material>
  <material name="orange">
    <color rgba="1.0 0.423529411765 0.0392156862745 1.0"/>
  </material>
  <material name="brown">
    <color rgba="0.870588235294 0.811764705882 0.764705882353 1.0"/>
  </material>
  <material name="red">
    <color rgba="0.8 0.0 0.0 1.0"/>
  </material>
  <material name="white">
    <color rgba="1.0 1.0 1.0 1.0"/>
  </material>
  <!--  add pi_robot -->
  <link name="world"/>
  <joint name="fixed0" type="fixed">
    <origin rpy="0 0 0" xyz="0 0 0.63"/>
    <parent link="world"/>
    <child link="table"/>
  </joint>
  <link name="table">
    <inertial>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <mass value="1000"/>
      <inertia ixx="86.4083333333" ixy="0.0" ixz="0.0" iyy="86.4083333333" iyz="0.0" izz="106.666666667"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="-0.3 0 -0.315"/>
      <geometry>
        <box size="0.8 0.8 0.63"/>
      </geometry>
      <material name="blue"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="-0.3 0 -0.315"/>
      <geometry>
        <box size="0.8 0.8 0.63"/>
      </geometry>
    </collision>
  </link>
  <joint name="fixed1" type="fixed">
    <origin rpy="0 0 0" xyz="0 0 0"/>
    <parent link="table"/>
    <child link="base_link"/>
  </joint>
  <link name="base_link">
    <inertial>
      <origin rpy="0 0 0" xyz="-0.03384704 0 0.11175"/>
      <mass value="14.3536868"/>
      <inertia ixx="0.07954002" ixy="0.00014829" ixz="0.02350667" iyy="0.11705921" iyz="0.00028791" izz="0.07791483"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://pi_description/meshes/base_robot/base_link.STL"/>
      </geometry>
      <material name="orange"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://pi_description/meshes/base_robot/base_link.STL"/>
      </geometry>
    </collision>
  </link>
  <joint name="J1" type="revolute">
    <origin rpy="0 0 0" xyz="0 0 0.2165"/>
    <parent link="base_link"/>
    <child link="link_1"/>
    <axis xyz="0 0 1"/>
    <dynamics damping="2"/>
    <limit effort="3000" lower="-2.61" upper="2.61" velocity="523.598775598"/>
  </joint>
  <link name="link_1">
    <inertial>
      <origin rpy="0 0 0" xyz="0.03782108 0.01898971 0.10151288"/>
      <mass value="9.0596047232"/>
      <inertia ixx="0.04499762" ixy="0.00648926" ixz="0.01733205" iyy="0.04930747" iyz="0.00699032" izz="0.04418632"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://pi_description/meshes/base_robot/link_1.STL"/>
      </geometry>
      <material name="white"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://pi_description/meshes/base_robot/link_1.STL"/>
      </geometry>
    </collision>
  </link>
  <joint name="J2" type="revolute">
    <origin rpy="0 0 0" xyz="0.0884 0 0.15339"/>
    <parent link="link_1"/>
    <child link="link_2"/>
    <axis xyz="0 1 0"/>
    <dynamics damping="2"/>
    <dynamics friction="0.7"/>
    <limit effort="3000" lower="-0.91" upper="1.71" velocity="523.598775598"/>
  </joint>
  <link name="link_2">
    <inertial>
      <origin rpy="0 0 0" xyz=" 0.00037973 0.01463596  0.14110632"/>
      <mass value="8.44545558967"/>
      <inertia ixx="0.08725021" ixy="-0.00013077" ixz="-0.00011492" iyy="0.07314022" iyz="0.01268936" izz="0.02609127"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://pi_description/meshes/base_robot/link_2.STL"/>
      </geometry>
      <material name="orange"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://pi_description/meshes/base_robot/link_2.STL"/>
      </geometry>
    </collision>
  </link>
  <joint name="J3" type="revolute">
    <origin rpy="0 0 0" xyz="0 0 0.26"/>
    <parent link="link_2"/>
    <child link="link_3"/>
    <axis xyz="0 1 0"/>
    <dynamics damping="2"/>
    <dynamics friction="0.7"/>
    <limit effort="3000" lower="-3.61" upper="0.61" velocity="523.598775598"/>
  </joint>
  <link name="link_3">
    <inertial>
      <origin rpy="0 0 0" xyz="0.03374938 -0.00089390  -0.01443372"/>
      <mass value="3.78434093355"/>
      <inertia ixx="0.00780439" ixy="0.00017321" ixz="0.00211938" iyy="0.01381789" iyz="-0.00003661" izz="0.01208117"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="-0.06 0 -0.01"/>
      <geometry>
        <mesh filename="package://pi_description/meshes/base_robot/link_3.STL"/>
      </geometry>
      <material name="white"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="-0.06 0 -0.01"/>
      <geometry>
        <mesh filename="package://pi_description/meshes/base_robot/link_3.STL"/>
      </geometry>
    </collision>
  </link>
  <joint name="J4" type="revolute">
    <origin rpy="0 0 0" xyz="0.136 0 0"/>
    <parent link="link_3"/>
    <child link="link_4"/>
    <axis xyz="1 0 0"/>
    <dynamics damping="2"/>
    <dynamics friction="0.7"/>
    <limit effort="2000" lower="-3.16" upper="3.16" velocity="314.159265359"/>
  </joint>
  <link name="link_4">
    <inertial>
      <origin rpy="0 0 0" xyz="0.03079792 -0.00235658 0.00116401"/>
      <mass value="3.54435947994"/>
      <inertia ixx="0.00539089" ixy="-0.00042139" ixz="-0.00023156" iyy="0.01103474" iyz="0.00023749" izz="0.01128169"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="-0.06 0 0"/>
      <geometry>
        <mesh filename="package://pi_description/meshes/base_robot/link_4.STL"/>
      </geometry>
      <material name="orange"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="-0.06 0 0"/>
      <geometry>
        <mesh filename="package://pi_description/meshes/base_robot/link_4.STL"/>
      </geometry>
    </collision>
  </link>
  <joint name="J5" type="revolute">
    <origin rpy="0 0 0" xyz="0.105 0 0"/>
    <parent link="link_4"/>
    <child link="link_5"/>
    <axis xyz="0 1 0"/>
    <limit effort="2000" lower="-1.88" upper="1.88" velocity="314.159265359"/>
  </joint>
  <link name="link_5">
    <inertial>
      <origin rpy="0 0 0" xyz=" 0.03936521 0.00086589 -0.00054972"/>
      <mass value="1.37811744"/>
      <inertia ixx="0.00093428486" ixy="-4.724046E-05" ixz="4.7174488E-07" iyy="0.0019708145" iyz="-2.1586564E-07" izz="0.0018400146"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://pi_description/meshes/base_robot/link_5.STL"/>
      </geometry>
      <material name="white"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://pi_description/meshes/base_robot/link_5.STL"/>
      </geometry>
    </collision>
  </link>
  <joint name="J6" type="revolute">
    <origin rpy="0 0 0" xyz="0.0725 0 0"/>
    <parent link="link_5"/>
    <child link="link_6"/>
    <axis xyz="1 0 0"/>
    <limit effort="2000" lower="-6.29" upper="6.29" velocity="314.159265359"/>
  </joint>
  <link name="link_6">
    <inertial>
      <origin rpy="0 0 0" xyz="0.01004134 5.1401544E-05 -0.03576E-03"/>
      <mass value="0.13048535"/>
      <inertia ixx="0.00010825691" ixy="-1.3134597E-08" ixz="-2.3228633E-08" iyy="5.6120147E-05" iyz="-2.1274058E-08" izz="5.6077018E-05"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0.0165 0 0"/>
      <geometry>
        <mesh filename="package://pi_description/meshes/base_robot/link_6.STL"/>
      </geometry>
      <material name="orange"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0.0165 0 0"/>
      <geometry>
        <mesh filename="package://pi_description/meshes/base_robot/link_6.STL"/>
      </geometry>
    </collision>
  </link>
  <!-- import.gazebo -->
  <!-- <xacro:base_gazebo/> -->
  <gazebo>
    <plugin filename="libangle_control.so" name="gazebo_control">
      <Dof>6</Dof>
      <UrdfFilePath>/home/pi/catkin_ws/src/pi_six_axis/pi_description/robots/pi.urdf</UrdfFilePath>
      <NaturalFreq1>50</NaturalFreq1>
      <NaturalFreq2>50</NaturalFreq2>
      <NaturalFreq3>60</NaturalFreq3>
      <NaturalFreq4>50</NaturalFreq4>
      <NaturalFreq5>50</NaturalFreq5>
      <NaturalFreq6>40</NaturalFreq6>
      <GearRatio1>121</GearRatio1>
      <GearRatio2>101</GearRatio2>
      <GearRatio3>81</GearRatio3>
      <GearRatio4>51</GearRatio4>
      <GearRatio5>50</GearRatio5>
      <GearRatio6>36</GearRatio6>
    </plugin>
  </gazebo>
  <!--   <gazebo>
    <plugin name="gazebo_control" filename="libangle_control.so">
      <RobotNamespace>/pi</RobotNamespace>
    </plugin>
  </gazebo> -->
  <gazebo reference="table">
    <material>Gazebo/Blue</material>
  </gazebo>
  <gazebo reference="base_link">
    <material>Gazebo/Orange</material>
  </gazebo>
  <gazebo reference="link_2">
    <material>Gazebo/Orange</material>
  </gazebo>
  <gazebo reference="link_4">
    <material>Gazebo/Orange</material>
  </gazebo>
  <gazebo reference="link_6">
    <material>Gazebo/Orange</material>
  </gazebo>
  <!--  add gripper -->
  <joint name="pneumatic_gripper_joint" type="fixed">
    <origin rpy="0 -1.57079632679 0" xyz="0.0165 0 0"/>
    <parent link="link_6"/>
    <child link="gripper_base"/>
  </joint>
  <link name="gripper_base">
    <inertial>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <mass value="0.03"/>
      <inertia ixx="9.75e-06" ixy="0" ixz="0" iyy="9.75e-06" iyz="0" izz="1.5e-06"/>
    </inertial>
    <visual>
      <!-- <origin xyz="0 0 ${-gripper_base_length/2}" rpy="0 0 0" /> -->
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <!-- <cylinder length="${gripper_base_length}" radius="${gripper_base_radius}"/> -->
        <mesh filename="package://six_kent_description/meshes/pneumatic_gripper/pneumatic_gripper_w_cup.DAE"/>
      </geometry>
      <material name="orange"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 -0.03"/>
      <geometry>
        <cylinder length="0.06" radius="0.01"/>
      </geometry>
    </collision>
  </link>
  <joint name="suction_cup_joint" type="fixed">
    <origin rpy="0 0 0" xyz="0 0 -0.06"/>
    <parent link="gripper_base"/>
    <child link="suction_cup"/>
  </joint>
  <link name="suction_cup">
    <inertial>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <mass value="0.01"/>
      <inertia ixx="3.95833333333e-07" ixy="0" ixz="0" iyy="3.95833333333e-07" iyz="0" izz="1.25e-07"/>
    </inertial>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 -0.01"/>
      <geometry>
        <cylinder length="0.02" radius="0.005"/>
      </geometry>
    </collision>
  </link>
  <!-- add plugin -->
  <!--     <gazebo reference="gripper_base">
      <material>Gazebo/Black</material>
    </gazebo> -->
  <gazebo reference="suction_cup">
    <kp value="1.0"/>
    <kd value="10000.0"/>
    <material>Gazebo/Black</material>
  </gazebo>
  <gazebo>
    <plugin filename="libpneumatic_gripper.so" name="pneumatic_gripper_plugin">
      <gripper_link>mybot::link_6</gripper_link>
    </plugin>
  </gazebo>
</robot>

